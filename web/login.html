<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register & Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="loginStyle.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container" id="signup" style="display:none;">
      <h1 class="form-title">Register</h1>
      <form method="post" action="">
        <div id="signUpMessage" class="messageDiv" style="display:none;"></div>
        <div class="input-group">
           <i class="fas fa-user"></i>
           <input type="text"  id="fName" placeholder="First Name" required>
           <label for="fname">First Name</label>
        </div>
        <div class="input-group">
            <i class="fas fa-user"></i>
            <input type="text"  id="lName" placeholder="Last Name" required>
            <label for="lName">Last Name</label>
        </div>
        <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email"  id="rEmail" placeholder="Email" required>
            <label for="rEmail">Email</label>
        </div>
        <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" id="rPassword"  placeholder="Password" required>
            <label for="rPassword">Password</label>
        </div>
       <button class="btn" id="submitSignUp" >Sign Up</button>
      </form>
      <p class="or">
        --------or--------
      </p>
      <div class="icons">
        <i class="fab fa-google"></i>
        <i class="fab fa-facebook"></i>
      </div>
      <div class="links">
        <p>Already Have Account ?</p>
        <button id="signInButton">Sign In</button>
      </div>
    </div>

  <div class="container" id="signIn">
        <h1 class="form-title">Sign In</h1>
        <form method="post" action="">
          <div id="signInMessage" class="messageDiv" style="display:none;"></div>

          <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input type="email"  id="email" placeholder="Email" required>
              <label for="email">Email</label>
          </div>
          <div class="input-group">
              <i class="fas fa-lock"></i>
            <input type="password" id="password"  placeholder="Password" required>
              <label for="password">Password</label>
          </div>
    
         <button  class="btn"  id="submitSignIn">Sign In</button>
        </form>
        <p class="or">
          --------or--------
        </p>
        <div class="icons">
          <i class="fab fa-google"></i>
          <i class="fab fa-facebook"></i>
        </div>
        <div class="links">
          <p>Don't have account yet?</p>
          <button id="signUpButton">Sign Up</button>
        </div>
      </div>
      
      <script>// Element Selectors
        const signUpButton = document.getElementById('signUpButton');
        const signInButton = document.getElementById('signInButton');
        const signInForm = document.getElementById('signIn');
        const signUpForm = document.getElementById('signup');
        const submitSignUp = document.getElementById('submitSignUp');
        const submitSignIn = document.getElementById('submitSignIn');
        
        // Toggle between forms
        signUpButton.addEventListener('click', () => {
            signInForm.style.display = "none";
            signUpForm.style.display = "block";
        });
        
        signInButton.addEventListener('click', () => {
            signInForm.style.display = "block";
            signUpForm.style.display = "none";
        });
        
        // Form Submit Handlers
        submitSignUp.addEventListener('click', (event) => {
            event.preventDefault();
        
            const firstName = document.getElementById('fName').value.trim();
            const lastName = document.getElementById('lName').value.trim();
            const email = document.getElementById('rEmail').value.trim();
            const password = document.getElementById('rPassword').value.trim();
        
            if (!validateSignUpForm(firstName, lastName, email, password)) {
                return;
            }
        
            if (confirm('Are you sure you want to sign up with this information?')) {
                saveUserData(firstName, lastName, email, password);
                alert('Sign Up Successful! You can now sign in.');
                signUpForm.style.display = "none";
                signInForm.style.display = "block";
            }
        });
        
        submitSignIn.addEventListener('click', (event) => {
            event.preventDefault();
        
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
        
            if (!email || !password) {
                alert('Please fill out all fields.');
                return;
            }
        
            const user = authenticateUser(email, password);
            if (user) {
                localStorage.setItem('loggedInUser', email);
                alert('Sign In Successful!');
                window.location.href = 'profile.html';
            } else {
                alert('Invalid email or password.');
            }
        });
        
        // Validation Functions
        function validateSignUpForm(firstName, lastName, email, password) {
            if (!firstName || !lastName || !email || !password) {
                alert('Please fill out all fields.');
                return false;
            }
        
            if (/\d/.test(firstName) || /\d/.test(lastName)) {
                alert('First name and last name cannot contain numbers.');
                return false;
            }
        
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(email)) {
                alert('Please enter a valid email address.');
                return false;
            }
        
            const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{8,}$/;
            if (!passwordPattern.test(password)) {
                alert('Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, and one special character.');
                return false;
            }
        
            return true;
        }
        </script>

</body>
</html>